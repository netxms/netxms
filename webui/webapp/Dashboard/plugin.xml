<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="%perspective.name.Dashboard"
            icon="icons/dashboard.png"
            class="org.netxms.ui.eclipse.dashboard.perspectives.DashboardPerspective"
            id="org.netxms.ui.eclipse.dashboard.DashboardPerspective">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="false"
            id="org.netxms.ui.eclipse.dashboard.actions.popup.object.DashboardRoot"
            objectClass="org.netxms.client.objects.DashboardRoot">
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.ImportDashboard"
               enablesFor="1"
               icon="icons/import.png"
               id="org.netxms.ui.eclipse.dashboard.actions.ImportDashboard#DashboardRoot"
               label="%action.label.ImportDashboard"
               menubarPath="objectcreation">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CreateDashboard"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CreateDashboard#DashboardRoot"
               label="&amp;Dashboard..."
               menubarPath="CreateObjectSubmenu/additions">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CreateDashboardGroup"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CreateDashboardGroup#DashboardRoot"
               label="Dashboard &amp;group..."
               menubarPath="CreateObjectSubmenu/additions">
         </action>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="org.netxms.ui.eclipse.dashboard.actions.popup.object.Dashboard"
            objectClass="org.netxms.client.objects.Dashboard">
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CreateDashboard"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CreateDashboard#Dashboard"
               label="%action.label.CreateDashboard"
               menubarPath="objectcreation">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.OpenDashboard"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.OpenDashboard"
               label="%action.label.OpenDashboard"
               menubarPath="additions">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CloneDashboard"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CloneDashboard"
               label="%action.label.CloneDashboard"
               menubarPath="additions">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.ExportDashboard"
               icon="icons/export.png"
               id="org.netxms.ui.eclipse.dashboard.actions.ExportDashboard"
               label="%action.label.Export"
               menubarPath="additions">
         </action>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="org.netxms.ui.eclipse.dashboard.actions.popup.object.DashboardGroup"
            objectClass="org.netxms.client.objects.DashboardGroup">
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.ImportDashboard"
               enablesFor="1"
               icon="icons/import.png"
               id="org.netxms.ui.eclipse.dashboard.actions.ImportDashboard#DashboardGroup"
               label="%action.label.ImportDashboard"
               menubarPath="objectcreation">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CreateDashboardGroup"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CreateDashboardGroup#DashboardGroup"
               label="Dashboard &amp;group..."
               menubarPath="CreateObjectSubmenu/additions">
         </action>
         <action
               class="org.netxms.ui.eclipse.dashboard.actions.CreateDashboard"
               enablesFor="1"
               id="org.netxms.ui.eclipse.dashboard.popupActions.CreateDashboard#DashboardGroup"
               label="&amp;Dashboard..."
               menubarPath="CreateObjectSubmenu/additions">
         </action>
      </objectContribution>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="true"
            class="org.netxms.ui.eclipse.dashboard.views.DashboardView"
            icon="icons/dashboard.png"
            id="org.netxms.ui.eclipse.dashboard.views.DashboardView"
            name="%view.name.Dashboard"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            class="org.netxms.ui.eclipse.dashboard.views.DashboardNavigator"
            icon="icons/dashboard_nav.gif"
            id="org.netxms.ui.eclipse.dashboard.views.DashboardNavigator"
            name="%view.name.DashboardNavigator"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            class="org.netxms.ui.eclipse.dashboard.views.DashboardDynamicView"
            icon="icons/dashboard.png"
            id="org.netxms.ui.eclipse.dashboard.views.DashboardDynamicView"
            name="%view.name.Dashboard"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.DashboardElements"
            id="org.netxms.ui.eclipse.dashboard.propertypages.DashboardElements#10"
            name="%page.name.DashboardElements">
         <enabledWhen>
            <instanceof
                  value="org.netxms.client.objects.Dashboard">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.Layout"
            id="org.netxms.ui.eclipse.dashboard.propertypages.Layout#100"
            name="%page.name.Layout">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.DashboardElementConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.LabelProperties"
            id="org.netxms.ui.eclipse.dashboard.propertypages.LabelProperties#0"
            name="%page.name.Label">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.LabelConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.DataSources"
            id="org.netxms.ui.eclipse.dashboard.propertypages.DataSources#20"
            name="%page.name.DataSources">
         <enabledWhen>
            <and>
               <instanceof
                     value="org.netxms.ui.eclipse.dashboard.widgets.internal.AbstractChartConfig">
               </instanceof>
               <not>
                  <instanceof
                        value="org.netxms.ui.eclipse.dashboard.widgets.internal.ScriptedComparisonChartConfig">
                  </instanceof>
               </not>
            </and>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.EmbeddedDashboard"
            id="org.netxms.ui.eclipse.dashboard.propertypages.EmbeddedDashboard#0"
            name="%page.name.Dashboard">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.EmbeddedDashboardConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicator"
            id="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicator#0"
            name="%page.name.StatusIndicator">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.StatusIndicatorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ObjectStatusChart"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ObjectStatusChart#0"
            name="%page.name.ObjStatusChart">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ObjectStatusChartConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.NetworkMap"
            id="org.netxms.ui.eclipse.dashboard.propertypages.NetworkMap#0"
            name="%page.name.NetworkMap">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.NetworkMapConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.Gauge"
            id="org.netxms.ui.eclipse.dashboard.propertypages.Gauge#10"
            name="%page.name.Gauge">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.GaugeConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.WebPage"
            id="org.netxms.ui.eclipse.dashboard.propertypages.WebPage#0"
            name="%page.name.WebPage">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.WebPageConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.AlarmViewer"
            id="org.netxms.ui.eclipse.dashboard.propertypages.AlarmViewer#0"
            name="%page.name.AlarmViewer">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.AlarmViewerConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.AbstractChart"
            id="org.netxms.ui.eclipse.dashboard.propertypages.AbstractChart#0"
            name="%page.name.Chart">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.AbstractChartConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.TableDataSource"
            id="org.netxms.ui.eclipse.dashboard.propertypages.TableDataSource#20"
            name="%page.name.DataSource">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.TableComparisonChartConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.TableComparisonChart"
            id="org.netxms.ui.eclipse.dashboard.propertypages.TableComparisonChart#0"
            name="%page.name.Chart">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.TableComparisonChartConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.CustomWidget"
            id="org.netxms.ui.eclipse.dashboard.propertypages.CustomWidget#0"
            name="%page.name.CustomWidget">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.CustomWidgetConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.GeoMap"
            id="org.netxms.ui.eclipse.dashboard.propertypages.GeoMap#0"
            name="%page.name.GeoMap">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.GeoMapConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.SeparatorProperties"
            id="org.netxms.ui.eclipse.dashboard.propertypages.SeparatorProperties#0"
            name="%page.name.Separator">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.SeparatorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.TableValue"
            id="org.netxms.ui.eclipse.dashboard.propertypages.TableValue#0"
            name="%page.name.TableValue">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.TableValueConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.StatusMap"
            id="org.netxms.ui.eclipse.dashboard.propertypages.StatusMap#0"
            name="%page.name.StatusMap">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.StatusMapConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.DciSummaryTable"
            id="org.netxms.ui.eclipse.dashboard.propertypages.DciSummaryTable#0"
            name="%page.name.DciSummaryTable">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.DciSummaryTableConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.EventMonitor"
            id="org.netxms.ui.eclipse.dashboard.propertypages.EventMonitor#0"
            name="Event Monitor">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.EventMonitorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.SnmpTrapMonitor"
            id="org.netxms.ui.eclipse.dashboard.propertypages.SnmpTrapMonitor#0"
            name="SNMP trap monitor">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.SnmpTrapMonitorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.SyslogMonitor"
            id="org.netxms.ui.eclipse.dashboard.propertypages.SyslogMonitor#0"
            name="Syslog monitor">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.SyslogMonitorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ServiceComponents"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ServiceComponents#0"
            name="Service Components Map">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ServiceComponentsConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.RackDiagram"
            id="org.netxms.ui.eclipse.dashboard.propertypages.RackDiagram#0"
            name="Rack Diagram">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.RackDiagramConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ObjectTools"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ObjectTools#0"
            name="Object Tools">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ObjectToolsConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ObjectDetailsPropertyList"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ObjectDetailsPropertyList#1"
            name="Object Properties">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ObjectDetailsConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ObjectDetailsQuery"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ObjectDetailsQuery#0"
            name="Query">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ObjectDetailsConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.PortView"
            id="org.netxms.ui.eclipse.dashboard.propertypages.PortView#0"
            name="Port View">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.PortViewConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.ScriptedChart"
            id="org.netxms.ui.eclipse.dashboard.propertypages.ScriptedChart#20"
            name="Script">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.ScriptedComparisonChartConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.DashboardAutoBind"
            id="org.netxms.ui.eclipse.dashboard.propertypages.DashboardAutoBind#15"
            name="Automatic Bind Rules">
         <enabledWhen>
            <instanceof
                  value="org.netxms.client.objects.Dashboard">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.DashboardObjectContext"
            id="org.netxms.ui.eclipse.dashboard.propertypages.DashboardObjectContext#20"
            name="Object Context">
         <enabledWhen>
            <instanceof
                  value="org.netxms.client.objects.Dashboard">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicatorScript"
            id="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicatorScript#20"
            name="Script">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.StatusIndicatorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicatorElements"
            id="org.netxms.ui.eclipse.dashboard.propertypages.StatusIndicatorElements#10"
            name="Elements">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.StatusIndicatorConfig">
            </instanceof>
         </enabledWhen>
      </page>
      <page
            class="org.netxms.ui.eclipse.dashboard.propertypages.FileMonitor"
            id="org.netxms.ui.eclipse.dashboard.propertypages.FileMonitor#0"
            name="File Monitor">
         <enabledWhen>
            <instanceof
                  value="org.netxms.ui.eclipse.dashboard.widgets.internal.FileMonitorConfig">
            </instanceof>
         </enabledWhen>
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.netxms.client.dashboards.DashboardElement"
            class="org.netxms.ui.eclipse.dashboard.DashboardElementAdapterFactory">
         <adapter
               type="org.netxms.ui.eclipse.dashboard.widgets.internal.DashboardElementConfig">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.netxms.ui.eclipse.objectbrowser.objectOpenHandlers">
      <handler
            class="org.netxms.ui.eclipse.dashboard.DashboardOpenHandler"
            enabledFor="org.netxms.client.objects.Dashboard"
            priority="10">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="org.netxms.ui.eclipse.dashboard.context.DashboardView"
            name="Dashboard"
            parentId="org.eclipse.ui.contexts.window">
      </context>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.netxms.ui.eclipse.dashboard.commands.export_line_chart_values"
            name="Export line chart values">
      </command>
      <command
            id="org.netxms.ui.eclipse.dashboard.commands.full_screen"
            name="Full screen display">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="org.netxms.ui.eclipse.dashboard.commands.export_line_chart_values"
            contextId="org.netxms.ui.eclipse.dashboard.context.DashboardView"
            schemeId="org.netxms.ui.eclipse.defaultKeyBinding"
            sequence="M1+F3">
      </key>
      <key
            commandId="org.netxms.ui.eclipse.dashboard.commands.full_screen"
            contextId="org.netxms.ui.eclipse.dashboard.context.DashboardView"
            schemeId="org.netxms.ui.eclipse.defaultKeyBinding"
            sequence="M3+F11">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=datacollection">
         <dynamic
               class="org.netxms.ui.eclipse.dashboard.DashboardsDynamicMenu"
               id="org.netxms.ui.eclipse.dashboard.DashboardsDynamicMenu">
            <visibleWhen
                  checkEnabled="false">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="and">
                     <and>
                        <or>
                           <instanceof
                                 value="org.netxms.client.objects.Container">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.ServiceRoot">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Subnet">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Cluster">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Zone">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.EntireNetwork">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Node">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Condition">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.MobileDevice">
                           </instanceof>
                           <instanceof
                                 value="org.netxms.client.objects.Sensor">
                           </instanceof>
                        </or>
                        <test
                              forcePluginActivation="true"
                              property="org.netxms.ui.eclipse.dashboard.hasDashboards">
                        </test>
                     </and>
                  </iterate>
               </and>
            </visibleWhen>
         </dynamic>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="org.netxms.ui.eclipse.dashboard.DashboardObjectPropertyTester"
            id="org.netxms.ui.eclipse.dashboard.DashboardObjectPropertyTester"
            namespace="org.netxms.ui.eclipse.dashboard"
            properties="hasDashboards"
            type="org.netxms.client.objects.AbstractObject">
      </propertyTester>
   </extension>

</plugin>
