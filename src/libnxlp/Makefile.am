SOURCES = file.cpp main.cpp parser.cpp rule.cpp

lib_LTLIBRARIES = libnxlp.la

libnxlp_la_SOURCES = $(SOURCES)
libnxlp_la_CPPFLAGS=-I@top_srcdir@/include -DLIBNXLP_EXPORTS -I@top_srcdir@/build
libnxlp_la_LDFLAGS = -release $(NETXMS_LIBRARY_VERSION)
libnxlp_la_LIBADD = @top_srcdir@/src/libnetxms/libnetxms.la

if USE_INTERNAL_EXPAT
libnxlp_la_CPPFLAGS+=-I@top_srcdir@/src/libexpat/libexpat
libnxlp_la_LIBADD += @top_srcdir@/src/libexpat/libexpat/libnxexpat.la
endif

if USE_INTERNAL_LIBTRE
libnxlp_la_LIBADD += @top_srcdir@/src/libtre/libnxtre.la
endif

EXTRA_DIST = \
	Makefile.w32 \
	eventlog.cpp vss.cpp wevt.cpp \
	libnxlp.vcxproj libnxlp.vcxproj.filters \
	libnxlp.h
